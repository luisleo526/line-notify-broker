<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingView Webhook 使用說明與交易策略</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.js"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .page-container {
            max-width: 900px;
            width: 100%;
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            padding: 2rem;
            margin: 2rem;
            max-height: 90vh;
            overflow-y: auto;
        }
        /* Scrollbar styles */
        .page-container::-webkit-scrollbar {
            width: 12px;
        }
        .page-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .page-container::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 10px;
        }
        .page-container::-webkit-scrollbar-thumb:hover {
            background: #2563eb;
        }
        /* Firefox */
        .page-container {
            scrollbar-width: thin;
            scrollbar-color: #3b82f6 #f1f1f1;
        }
        h1 {
            background: linear-gradient(to right, #3b82f6, #2563eb);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        section {
            transition: all 0.3s ease;
            border: 2px solid #3b82f6;
            border-radius: 8px;
            margin-bottom: 2rem;
            padding: 1.5rem;
        }
        section:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(59,130,246,0.1);
        }
        h2 {
            border-bottom: 2px solid #3b82f6;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }
        .code-block {
            position: relative;
            margin: 1rem 0;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            overflow: hidden;
        }
        .code-block pre {
            overflow-x: auto;
            padding: 1rem;
            padding-top: 2rem;
        }
        .code-label {
            position: absolute;
            top: 0;
            right: 0;
            background: #10B981;
            color: white;
            padding: 2px 8px;
            font-size: 0.8rem;
            border-bottom-left-radius: 8px;
            z-index: 10;
        }
        .url-container {
            background-color: #f3f4f6;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            margin: 1rem 0;
        }
        .url-text {
            font-family: 'Courier New', Courier, monospace;
            color: #3b82f6;
        }
        code {
            font-family: 'Courier New', Courier, monospace;
        }
        ul, ol {
            margin-left: 1rem;
        }
        ul li::before {
            content: "•";
            color: #3b82f6;
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        .text-blue-500 {
            color: #3b82f6;
        }
        .text-blue-400 {
            color: #60a5fa;
        }
        .bg-gray-100 {
            background-color: #f3f4f6;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <h1 class="text-4xl font-bold mb-8 text-center">TradingView Webhook 使用說明與交易策略</h1>

        <section>
            <h2 class="text-2xl font-semibold text-blue-500">基本設置</h2>
            <p class="mb-4">要使用 TradingView Webhook，請按照以下步驟進行設置：</p>
            <ol class="list-decimal list-inside space-y-2">
                <li>在 TradingView 中創建警報時，選擇 "Webhook" 作為通知方式。</li>
                <li>將以下 URL 設置為 Webhook URL：</li>
            </ol>
            <div class="url-container">
                <span class="url-text">https://line.broker.4pass.io</span>
            </div>
            <p class="mt-4">在 "訊息" 欄位中，您需要提供一個 JSON 格式的 payload，格式如下：</p>
            <div class="code-block">
                <div class="code-label">Code</div>
                <pre class="bg-gray-100"><code class="text-sm">{
    "token": "您的 LINE API Token",
    "message": "您想發送的訊息"
}</code></pre>
            </div>
        </section>

        <section>
            <h2 class="text-2xl font-semibold text-blue-500">常用關鍵字</h2>
            <p class="mb-4">TradingView 提供了多個可以在警報訊息中使用的關鍵字，以下是一些常用的例子：</p>
            <ul class="list-disc list-inside space-y-2">
                <li><strong>{{ticker}}</strong> - 快訊中使用的品種代碼（如 AAPL、BTCUSD 等）</li>
                <li><strong>{{close}}, {{open}}, {{high}}, {{low}}, {{time}}, {{volume}}</strong> - 觸發快訊的 K 棒的相應值</li>
                <li><strong>{{timenow}}</strong> - 快訊的當前觸發時間</li>
                <li><strong>{{strategy.position_size}}</strong> - 當前倉位大小</li>
                <li><strong>{{strategy.order.action}}</strong> - 返回 "buy" 或 "sell"</li>
                <li><strong>{{strategy.market_position}}</strong> - 返回當前市場位置："long"、"flat" 或 "short"</li>
                <li><strong>{{strategy.order.contracts}}</strong> - 返回已執行訂單的合約數量</li>
                <li><strong>{{strategy.order.price}}</strong> - 返回執行訂單的價格</li>
            </ul>
        </section>

        <section>
            <h2 class="text-2xl font-semibold text-blue-500">交易策略與 Webhook</h2>
            <p class="mb-4">TradingView 的 Webhook 功能可以與各種交易策略結合使用，以實現自動化交易和實時通知。以下是一些常見的策略應用：</p>

            <h3 class="text-xl font-semibold mt-6 mb-3 text-blue-400">1. 突破策略</h3>
            <p class="mb-4">當價格突破重要支撐或阻力位時發送警報。例如：</p>
            <div class="code-block">
                <div class="code-label">Code</div>
                <pre class="bg-gray-100"><code class="text-sm">{
    "token": "YOUR_LINE_API_TOKEN",
    "message": "{{ticker}} 價格突破！當前價格：{{close}}，突破方向：{{strategy.order.action}}"
}</code></pre>
            </div>

            <h3 class="text-xl font-semibold mt-6 mb-3 text-blue-400">2. 均線交叉策略</h3>
            <p class="mb-4">當短期均線與長期均線交叉時發送警報。例如：</p>
            <div class="code-block">
                <div class="code-label">Code</div>
                <pre class="bg-gray-100"><code class="text-sm">{
    "token": "YOUR_LINE_API_TOKEN",
    "message": "{{ticker}} 均線交叉！交叉類型：{{strategy.order.action}}，當前價格：{{close}}"
}</code></pre>
            </div>

            <h3 class="text-xl font-semibold mt-6 mb-3 text-blue-400">3. RSI 超買超賣策略</h3>
            <p class="mb-4">當 RSI 指標進入超買或超賣區域時發送警報。例如：</p>
            <div class="code-block">
                <div class="code-label">Code</div>
                <pre class="bg-gray-100"><code class="text-sm">{
    "token": "YOUR_LINE_API_TOKEN",
    "message": "{{ticker}} RSI 警報！當前 RSI 值：{{plot("RSI")}}，建議操作：{{strategy.order.action}}"
}</code></pre>
            </div>

            <h3 class="text-xl font-semibold mt-6 mb-3 text-blue-400">4. 止盈止損策略</h3>
            <p class="mb-4">當達到預設的止盈或止損點位時發送警報。例如：</p>
            <div class="code-block">
                <div class="code-label">Code</div>
                <pre class="bg-gray-100"><code class="text-sm">{
    "token": "YOUR_LINE_API_TOKEN",
    "message": "{{ticker}} 達到{{strategy.order.comment}}！執行價格：{{strategy.order.price}}，倉位變化：{{strategy.order.contracts}}"
}</code></pre>
            </div>
        </section>

        <section>
            <h2 class="text-2xl font-semibold text-blue-500">策略優化與回測</h2>
            <p class="mb-4">使用 TradingView 的策略測試器可以優化您的交易策略：</p>
            <ul class="list-disc list-inside space-y-2">
                <li>利用歷史數據進行回測，評估策略的表現</li>
                <li>調整參數以優化策略性能</li>
                <li>分析不同市場條件下的策略表現</li>
                <li>使用蒙特卡洛模擬來評估策略的穩定性</li>
            </ul>
            <p class="mt-4">優化後的策略可以通過 Webhook 實現自動化交易，提高交易效率。</p>
        </section>

        <section>
            <h2 class="text-2xl font-semibold text-blue-500">注意事項</h2>
            <ul class="list-disc list-inside space-y-2">
                <li>確保您的 LINE API Token 正確無誤</li>
                <li>測試您的 Webhook 以確保它能正常運作</li>
                <li>根據您的交易策略自定義訊息內容</li>
                <li>定期評估和調整您的策略，以適應不同的市場環境</li>
                <li>注意風險管理，設置適當的倉位大小和止損點</li>
                <li>考慮使用模擬交易來測試新策略，然後再用於實盤交易</li>
            </ul>
        </section>
    </div>
</body>
</html>
